(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{747:function(e,t,r){var content=r(777);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(17).default)("62a3277d",content,!0,{sourceMap:!1})},776:function(e,t,r){"use strict";r(747)},777:function(e,t,r){var n=r(16)(!1);n.push([e.i,"h2[data-v-0a998104]{text-align:center;margin-top:100px;font-family:sans-serif}",""]),e.exports=n},809:function(e,t,r){"use strict";r.r(t);r(12),r(10),r(9),r(14),r(11),r(15);var n=r(0),o=r(3),l=(r(28),r(57));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={data:function(){return{editedIndex:-1,headers:[{text:"ID",align:"start",sortable:!1,value:"id"},{text:"Name",align:"start",sortable:!1,value:"name"},{text:"Actions",value:"actions",sortable:!1}],editedItem:{id:"",name:"",privileges:[]},dialog:!1,valid:!0}},methods:{handleClick:function(e){this.$router.push("roles/"+e.id)},editItem:function(e){this.editedIndex=this.roles.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1})),this.$store.dispatch("fetchuserroles")},request_data:function(){this.$store.dispatch("request_role_privileges"),this.$store.dispatch("fetchuserroles")},save:function(){this.editedIndex>-1?(this.update_role_privileges(this.editedItem.id,this.editedItem),this.close()):(this.$store.dispatch("create_role",this.editedItem),this.close())},update_role_privileges:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.$api.$put("auth/roles/".concat(e,"/"),t).then((function(e){r.$router.push("roles/".concat(e.id)),r.request_data()})).catch((function(e){console.log(e)}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}},beforeMount:function(){this.$store.dispatch("request_role_privileges"),this.$store.dispatch("fetchuserroles")},computed:d(d({},Object(l.b)({authorities:"privileges",roles:"userroles"})),{},{formTitle:function(){return-1===this.editedIndex?"label.titles.newrole":"label.titles.editrole"}})},m=(r(776),r(8)),f=r(13),h=r.n(f),_=r(168),x=r(262),O=r(7),y=r(713),k=r(706),I=r(733),w=r(704),$=r(265),V=r(724),j=r(202),C=r(717),T=r(56),P=r(708),D=r(64),S=r(84),A=r(31),component=Object(m.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.roles,"sort-by":"id"},on:{"click:row":e.handleClick},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-toolbar",{attrs:{flat:""}},[r("v-toolbar-title",[e._v(e._s(e.$t("label.titles.rolesmanagement")))]),e._v(" "),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-dialog",{attrs:{"max-width":"700px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[e.isMdAndUp?r("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",medium:"",dark:""}},"v-btn",o,!1),n),[r("v-icon",{attrs:{small:""}},[e._v("mdi-plus")]),e._v("\n              "+e._s(e.$t("label.button.btnaddnewrole")))],1):r("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",fab:"",small:"",dark:""}},"v-btn",o,!1),n),[r("v-icon",[e._v("mdi-plus")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),r("v-card",[r("v-card-title",{staticClass:"primary"},[r("span",[e._v(e._s(e.$t(e.formTitle)))])]),e._v(" "),r("v-card-text",[r("v-container",[r("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[r("v-text-field",{attrs:{label:"Role name",hint:"E.g Administrator",required:""},model:{value:e.editedItem.name,callback:function(t){e.$set(e.editedItem,"name",t)},expression:"editedItem.name"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",sm:"12",md:"8"}},[r("v-select",{attrs:{items:e.authorities,"item-text":"name","item-value":"id",chips:"","disable-lookup":"","deletable-chips":"",clearable:"","small-chips":"",multiple:"",rules:[function(e){return!!e||"You must select one to continue!"}],label:"Select role permissions",required:""},model:{value:e.editedItem.privileges,callback:function(t){e.$set(e.editedItem,"privileges",t)},expression:"editedItem.privileges"}})],1)],1)],1)],1)],1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary",small:""},on:{click:e.close}},[e._v("\n                "+e._s(e.$t("label.button.btncancel"))+"\n              ")]),e._v(" "),r("v-btn",{attrs:{color:"warning",small:""},on:{click:e.save}},[e._v("\n                "+e._s(e.$t("label.button.btnsave"))+"\n              ")])],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[r("td",{on:{click:function(e){e.stopPropagation()}}},[r("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(n)}}},[e._v("\n          mdi-pencil\n        ")])],1)]}}],null,!0)})],1)}),[],!1,null,"0a998104",null);t.default=component.exports;h()(component,{VBtn:_.a,VCard:x.a,VCardActions:O.a,VCardText:O.c,VCardTitle:O.d,VCol:y.a,VContainer:k.a,VDataTable:I.a,VDialog:w.a,VDivider:$.a,VForm:V.a,VIcon:j.a,VRow:C.a,VSelect:T.a,VSpacer:P.a,VTextField:D.a,VToolbar:S.a,VToolbarTitle:A.b})}}]);