(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{823:function(t,e,n){"use strict";n.r(e);var r=n(3),o=(n(26),n(28),n(308)),c=n(201),l=n(307),v=n(306),m=n(202),d=n(200),f=n(203),_=n(116),h=n(309),C=n(310),w=n(311),k={props:{userdata:{type:Object,default:null}},components:{"v-type-divider":m.default,"v-address-card":d.default,"tb-biograph":c.default,"tb-doctor":o.default,"tb-diagnoses":l.default,"tb-admissions":v.default,"tb-consultations":f.default,"tb-charges":_.default,"tb-medical-services":h.default,"tb-medicines":C.default,"tb-reports":w.default},data:function(){return{tab:null,service:null,dialog:!1,admissions:null,service_transactions:null,selectedstaffId:null,reportfiles:null}},methods:{getServiceById:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.$get("consultations/".concat(t.$route.params.id)).then((function(e){null!==e&&(t.service=e,t.selectedstaffId=e.staff.id)})).catch((function(t){console.log(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},onServiceUpdate:function(){this.getServiceById()},getServiceAdmissions:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.$get("admissions/".concat(t.$route.params.id,"/?command=service")).then((function(e){null!==e&&(t.admissions=e)})).catch((function(t){console.log(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},getConsultationLaboratoryReports:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.$get("consultations/".concat(t.$route.params.id,"/files")).then((function(e){null!==e&&(t.reportfiles=e)})).catch((function(t){console.log(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},getServiceChargesAndCosts:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$api.$get("transactions/".concat(t.$route.params.id,"/consultation")).then((function(e){null!==e&&(t.service_transactions=e)})).catch((function(t){console.log(t)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))()},endThisService:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dialog=!1,e.next=3,t.$api.$put("consultations/".concat(t.$route.params.id)).then((function(e){null!==e&&t.getServiceById()})).catch((function(t){console.log(t)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()},getMedicalServices:function(){this.$store.dispatch("get_medical_services")},updatestafflist:function(){this.$store.dispatch("fetchAllStaffs")},checkevent:function(){console.log("This event"),this.getConsultationLaboratoryReports()},_assign_staff:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t.selectedstaffId.id){e.next=4;break}return e.next=3,t.$api.$put("consultations/".concat(t.$route.params.id,"/").concat(t.selectedstaffId.id,"/")).then((function(e){null!==e&&t.onServiceUpdate()})).catch((function(t){console.log(t)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))()},remove:function(i){console.log(i)}},created:function(){this.getServiceById()},computed:{staffs:{get:function(){return this.$store.getters.staffs}}}},x=n(8),y=n(13),V=n.n(y),$=n(728),S=n(269),A=n(167),I=n(262),R=n(7),j=n(213),L=n(713),T=n(706),P=n(704),N=n(714),U=n(204),O=n(215),B=n(266),z=n(168),D=n(268),E=n(5),M=n(264),J=n(717),F=n(708),H=n(722),W=n(736),G=n(734),K=n(397),component=Object(x.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[null!=t.service?n("div",{staticClass:"breadcrumb "},[n("router-link",{attrs:{to:"/"}},[t._v("Dashboard")]),t._v(" "),n("router-link",{directives:[{name:"show",rawName:"v-show",value:!this.$vuetify.breakpoint.mobile,expression:"!this.$vuetify.breakpoint.mobile"}],attrs:{to:"/patients"}},[t._v("Patients")]),t._v(" "),n("router-link",{attrs:{to:"/patients/"+t.service.patient.id}},[t._v(t._s(t.service.patient.name))]),t._v(" "),n("router-link",{staticClass:"active",attrs:{to:"/consultations/"+this.$route.params.id}},[t._v("service ("+t._s(this.$route.params.id)+")")])],1):t._e(),t._v(" "),n("v-flex",{staticClass:"ma-0 pa-0 default"},[n("v-card",{staticClass:"ma-0 pa-0 mx-auto ",attrs:{flat:""}},[n("v-list",{staticClass:"ma-0 pa-0"},[null==t.service?n("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5",size:"16"}}):n("div",[n("v-card-title",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-icon",{attrs:{color:t.service.isActive?"green":"gray"}},[t._v("mdi-circle")]),t._v("     \n                "),n("v-dialog",{attrs:{persistent:"",dark:"","max-width":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[t.service.isActive?n("v-btn",t._g(t._b({staticClass:"primary mb-1",attrs:{small:""}},"v-btn",o,!1),r),[t._v("Close consultation")]):t._e()]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),n("v-card",{staticClass:" text-xs-center",attrs:{flat:""}},[n("v-card-title",{staticClass:"justify-center",attrs:{"primary-title":""}},[n("div",[n("h2",{staticClass:"font-weight-black"},[n("v-icon",{attrs:{size:"48",color:"yellow"}},[t._v("mdi-alert-octagon-outline")]),t._v("  End service ?\n                        ")],1)])]),t._v(" "),n("v-card-text",[n("p",{staticClass:"text-justify font-weight-normal"},[t._v("\n                        Ending this service will make this service instance\n                        "),n("strong",[t._v(" No. "+t._s(t.service.id)+" ")]),t._v("\n                         for client\n                        "),n("strong",{staticClass:"font-weight-normal"},[t._v(t._s(t.service.patient.name))]),t._v(" as inactive for new admissions, diagnoses,\n                        admission visits, Service costs etc. Click agree if\n                        you are okay with this or Disagree to cancel this\n                        operation\n                      ")])]),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{staticClass:"font-weight-bold",attrs:{large:""},on:{click:function(e){t.dialog=!1}}},[t._v("\n                        Discard\n                      ")]),t._v(" "),n("v-btn",{staticClass:"font-weight-bold",attrs:{color:"primary darken-2",large:""},on:{click:function(e){return e.stopPropagation(),t.endThisService(e)}}},[t._v("\n                        End service\n                      ")])],1)],1)],1),t._v(" "),n("v-autocomplete",{staticClass:"mx-3 mt-4 d-flex align-bottom",attrs:{dense:"",items:t.staffs,"item-text":"fullName","item-value":"id","persistent-hint":"","return-object":"",solo:"",flat:"",outlined:"","small-chips":"",label:"Re/Assign staffs"},on:{change:function(e){return t._assign_staff()}},scopedSlots:t._u([{key:"selection",fn:function(data){return[n("v-chip",t._b({attrs:{"input-value":data.selected,close:""},on:{click:data.select,"click:close":function(e){return t.remove(data.item)}}},"v-chip",data.attrs,!1),[n("v-avatar",{attrs:{left:""}},[n("v-img",{attrs:{src:null===data.item.imageUrl?t.thumbnail:data.item.imageUrl}})],1),t._v("\n                      "+t._s(null===data.item.fullName?data.item.username:data.item.fullName)+"\n                    ")],1)]}},{key:"item",fn:function(data){return["object"!=typeof data.item?[n("v-list-item-content",{domProps:{textContent:t._s(data.item)}})]:[n("v-list-item-avatar",[n("v-img",{attrs:{src:null===data.item.imageUrl?t.thumbnail:data.item.imageUrl,alt:"image"}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:t._s(null===data.item.fullName?data.item.username:data.item.fullName)}}),t._v(" "),n("v-list-item-subtitl",[t._v("\n                          "+t._s(data.item.department.name)+" [\n                          "+t._s(data.item.user.roles[0].name)+" ]\n                        ")])],1)]]}}]),model:{value:t.selectedstaffId,callback:function(e){t.selectedstaffId=e},expression:"selectedstaffId"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",md:"3"}},[n("br")]),t._v(" "),n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-container",{attrs:{fluid:""}},[n("v-card",{attrs:{outlined:"",dense:"",color:"primary"}},[n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-avatar",{attrs:{size:"60"}},[n("v-img",{attrs:{src:null==t.service.patient.patientPhoto?t.thumbnail:t.filebaseUri+t.service.patient.patientPhoto}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[n("strong",[t._v("Patient:")]),t._v("  "+t._s(t.service.patient.name))]),t._v(" "),n("v-list-item-subtitle",[n("strong",[t._v("Weight")]),t._v("  "+t._s(t.service.patient.weight)+"\n                        ")]),t._v(" "),n("v-list-item-subtitle",[n("strong",[t._v("Blood pressure")]),t._v("  \n                          "+t._s(t.service.patient.bloodPressure)+"\n                        ")])],1)],1)],1)],1)],1),t._v(" "),t.service.staff?n("v-col",{attrs:{cols:"12",md:"3"}},[n("v-container",{attrs:{fluid:""}},[n("v-card",{attrs:{outlined:"",dense:"",color:"primary"}},[n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-avatar",{attrs:{size:"60"}},[n("v-img",{attrs:{src:null==t.service.staff.imageUrl?t.thumbnail:t.service.staff.imageUrl}})],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[n("strong",[t._v("Staff:")]),t._v("  "+t._s(null==t.service.staff.fullName?t.service.staff.username:t.service.staff.fullName))]),t._v(" "),n("v-list-item-subtitle",[n("strong",[t._v("Phone")]),t._v("  "+t._s(t.service.staff.contacts)+"\n                        ")]),t._v(" "),n("v-list-item-subtitle",[n("strong",[t._v("Email")]),t._v("  \n                          "+t._s(t.service.staff.email)+"\n                        ")])],1)],1)],1)],1)],1):t._e()],1)],1),t._v(" "),n("v-card-text",[n("v-tabs",{staticClass:"elevation-2",attrs:{"slider-color":"primary","background-color":"default","slider-size":"3",left:"","show-arrows-on-hover":"true","show-arrows":t.$vuetify.breakpoint.mobile},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",{staticClass:"font-weight-normal"},[n("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-stethoscope")]),t._v("\n                Diagnoses\n              ")],1),t._v(" "),n("v-tab",{staticClass:"font-weight-normal",on:{click:function(e){t.getMedicalServices(),t.getServiceChargesAndCosts()}}},[n("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-plus-box")]),t._v("\n                Services\n              ")],1),t._v(" "),n("v-tab",{staticClass:"font-weight-normal",on:{click:function(e){return t.getServiceChargesAndCosts()}}},[n("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-pill")]),t._v("\n                Medications\n              ")],1),t._v(" "),n("v-tab",{staticClass:"font-weight-normal",on:{click:function(e){return t.getConsultationLaboratoryReports()}}},[n("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-microscope")]),t._v("\n                Laboratory reports\n              ")],1),t._v(" "),n("v-tab",{staticClass:"font-weight-normal",on:{click:t.getServiceChargesAndCosts}},[n("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-credit-card")]),t._v("\n                Costs\n              ")],1),t._v(" "),n("v-tab",{staticClass:"font-weight-normal",on:{click:t.getServiceAdmissions}},[n("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-bed")]),t._v("\n                Admissions\n              ")],1)],1),t._v(" "),n("v-tabs-items",{staticClass:"default",attrs:{vertical:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",[n("tb-diagnoses",{attrs:{diagnoses:t.service.diagnoses,isActive:t.service.isActive}})],1),t._v(" "),n("v-tab-item",[n("tb-medical-services",{attrs:{transaction:t.service_transactions,isActive:t.service.isActive}})],1),t._v(" "),n("v-tab-item",[n("tb-medicines",{attrs:{transaction:t.service_transactions,isActive:t.service.isActive}})],1),t._v(" "),n("v-tab-item",[n("tb-reports",{attrs:{files:t.reportfiles},on:{"update-report":t.checkevent}})],1),t._v(" "),n("v-tab-item",[n("tb-charges",{attrs:{transaction:t.service_transactions}})],1),t._v(" "),n("v-tab-item",[n("tb-admissions",{attrs:{admissions:t.admissions,userdata:t.service.patient}})],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;V()(component,{VAutocomplete:$.a,VAvatar:S.a,VBtn:A.a,VCard:I.a,VCardActions:R.a,VCardText:R.c,VCardTitle:R.d,VChip:j.a,VCol:L.a,VContainer:T.a,VDialog:P.a,VFlex:N.a,VIcon:U.a,VImg:O.a,VList:B.a,VListItem:z.a,VListItemAvatar:D.a,VListItemContent:E.a,VListItemSubtitle:E.b,VListItemTitle:E.c,VProgressCircular:M.a,VRow:J.a,VSpacer:F.a,VTab:H.a,VTabItem:W.a,VTabs:G.a,VTabsItems:K.a})}}]);